
## 이동평균(moving average) : 
데이터의 변화추세를 부드럽게 보여주는 계산방법

어떤 데이터가 방향성을 가지고 움직일때, 이동하면서 구해지는 평균

### 1. 단순이동평균(simple moving average, SMA)
 기본적인 이동평균
 지정된 기간 동안의 가격을 모두 더해 그 기간으로 나눈 산술 평균값

 계산이 간단, 모든데이터에 동일한 weight를 둠

 ex) U= [4, 1, 1, 2, 4, 11, 0, 0, 4, 2, 8] 
   몇일을 기준으로 할지 정해야함. m일의 평균을 구하는 것.
   m= 6로 일단 설정.
   단순 이동 평균 => n번째 데이터를 포함한 왼쪽 m개의 데이터의 산술평균
   n = 1이면 4, 1 ,1 2, 4, 11 이 6개 데이터의 산술 평균

### 1-2. 가중 이동 평균(weighted moving average, WMA)
  데이터의 위치에 따라 서로 다른 가중치를 부여해 이동평균 계산
  가장 최근 데이터에 weight를 더 부여.
  최근 데이터가 선형적으로 증가하는 weight를 가짐.

  최근 추세에는 SMA보단 빠르지만 EMA보단 느림

  window, m의 크기를 지정해줘야 함.
  두개의 벡터를 내적(dot product)하여 계산함

  ex)
  m = 4이라 가정
  U= [4, 1, 1, 2, 4, 11, 0, 0, 4, 2, 8]  현재 n=11, n은 데이터의 수
  A =  dot product( [4 , 3 , 2, 1] , [8, 2 , 4 ,0] )
  B = 4 + 3 + 2 + 1
  n의 WMA = A/B = $\frac{46}{10}$ = 4.6
  



### 2. 지수이동평균(exponential moving average, EMA)
 마찬가지로 **window(기간)을 정해줘야 함.**
 최근 데이터에 더 큰 weight를 두어 계산하는 방식. 
 최근데이터에 가장 큰 weight를 주고 과거 데이터들에는 지수적으로 감소한 weight를 주어 이전 데이터의 영향력을 줄임.
 
 weight가 지수적으로 감소하는 특징이 존재.
 최근 데이터에 민감해서 SMA, WMA보다 더 빨리 추세 변화를 반영

 평활계수를 weight로서 사용.
 평활계수는 가장 최근 데이터에 얼마만큼의 비중을 둘것인가를 결정하는 계수.
 
 K(평활계수) = $\frac{2}{(N+1)}$ N은 사용자가 설정한 기간(window)
	 window가 길면 부드럽고, 짧으면 민감함

 ex)
 N = 5라 가정
 U= [4, 1, 1, 2, 4, 11, 0, 0, 4, 2, 8]  데이터 셋을 사용

 K = 2 / 5+1 = $\frac{1}{3}$
 EMA는 재귀적으로 계산함

 EMA = (8 * $\frac{1}{3}$) +  (2 * $\frac{1}{3}$)  * $\frac{1}{3}$  + 4 * *$\frac{1}{3}^3$ + 0 *  $\frac{1}{3}^4$+0 * $\frac{1}{3}^5$+ 11 * $\frac{1}{3}^6$  + ... + 4 * $\frac{1}{3}^{11}$
   